<!DOCTYPE html>
<!-- saved from url=(0070)http://webrtc.googlecode.com/svn/trunk/samples/js/demos/html/gum1.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Single camera getUserMedia() demo</title>
<script>
function makeGetStreamX(width, height, button) {
  return function() {
    var constraintsWidthXHeight = {
      "audio": false,
      "video": {
        "mandatory": {
          "minWidth": width,
          "maxWidth": width,
          "minHeight": height,
          "maxHeight": height
        },
        "optional": []
      }
    };
    navigator.webkitGetUserMedia(constraintsWidthXHeight, gotStream, getUserMediaError);
    button.disabled = true;
  };
};

function gotStream(stream) {
  console.log("Got video device capturing");
  var video_tag = document.createElement('video');
  video_tag.src = webkitURL.createObjectURL(stream);
  document.body.appendChild(video_tag);
  video_tag.play();
}

function getUserMediaError(e) {
  console.assert(false, 'Error during webkitGetUserMedia: '+e);
}

function createButton(id, text, onClick){
    var button = document.createElement("input");
    button,id = id;
    button.type = "button";
    button.value = text;
    button.onclick = onClick;
    document.body.appendChild(button);
}

createButton("btn1", "320x240", makeGetStreamX(320, 240, document.getElementById("btn1")));
createButton("btn2", "640x480", makeGetStreamX(640, 480, document.getElementById("btn2")));
createButton("btn3", "960x720", makeGetStreamX(960, 720, document.getElementById("btn3")));
createButton("btn4", "1280x720", makeGetStreamX(1280, 720, document.getElementById("btn4")));

</script>
</head>

<body>
<div> Open the system camera in different resolutions. </div>
</body>
</html>
