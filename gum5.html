<!DOCTYPE html>
<!-- saved from url=(0070)http://webrtc.googlecode.com/svn/trunk/samples/js/demos/html/gum1.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>getUserMedia Demo Z</title>
<style>
video {
    border:5px solid black;
    width:300px;
    height:400px;
}
button {
    font: 18px sans-serif;
    padding: 8px;
}
</style>
</head>
<body>
  <div>
    <h1>Test opening capture device in portrait mode</h1>
    <p>
    This page allows to open a camera in different resolutions and framerates 
    simultaneously and in different orders. 
    </p>
  </div>
<video id="vid2" autoplay="true"></video>
<video id="vid3" autoplay="true"></video>
<video id="vid4" autoplay="true"></video>
<br/>
<button id="btn" onclick="start2()">Start Midres 4:3 (320x240)</button>
<button id="btn" onclick="start3()">Start NormRes 4:3 (640x480)</button>
<button id="btn" onclick="start4()">Start HighRes 16:9(1280x720)</button>
<script>
video2= document.getElementById("vid2");
 var constraints2 ={
  "audio": true, "video": { "mandatory": {
    "minWidth": "240", "maxWidth": "240", "minHeight": "320", "maxHeight": "320",
   },
   "optional": []
  }
 }
video3 = document.getElementById("vid3");
 var constraints3 ={
  "audio": true, "video": { "mandatory": {
    "minWidth": "480", "maxWidth": "480", "minHeight": "640", "maxHeight": "640",
   },
   "optional": []
  }
 }

video4= document.getElementById("vid4");
 var constraints4 ={
  "audio": true, "video": { "mandatory": {
    "minWidth": "720", "maxWidth": "720", "minHeight": "1280", "maxHeight": "1280",
   },
   "optional": []
  }
 }

function start2() {
  navigator.webkitGetUserMedia(constraints2, gotStream2,  getUserMediaError); 
  btn.disabled = true;
}
function gotStream2(stream) {
  video2.src = webkitURL.createObjectURL(stream);
}
function start3() {
  navigator.webkitGetUserMedia({video:true}, gotStream3,  getUserMediaError); 
  btn.disabled = true;
}
function gotStream3(stream) {
  video3.src = webkitURL.createObjectURL(stream);
}
function start4() {
  navigator.webkitGetUserMedia(constraints4, gotStream4,  getUserMediaError); 
  btn.disabled = true;
}
function gotStream4(stream) {
  video4.src = webkitURL.createObjectURL(stream);
}

function getUserMediaError(e) {
  alert('Error during webkitGetUserMedia: '+e);
}

</script>



</body></html>
